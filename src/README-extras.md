### Question
in order to use json-schema for LLM model response-type, the schema needs to include `"strict": true`. How can this be added to the Pydantic classes?

### Answer
To incorporate "strict": true into the JSON Schema generated by Pydantic for use with LLM model responses, you can modify the schema generation process by customizing the Config class within your Pydantic models. Here's how you can do it:

Using Model Configuration
Pydantic provides a way to customize JSON schema generation through the Config class, but for strict mode, you might need to override the JSON schema generation behavior:

```
from typing import Optional
from pydantic import BaseModel, ConfigDict, Field
from pydantic.json_schema import JsonSchemaValue

class StrictModelConfig:
    @classmethod
    def __get_pydantic_json_schema__(cls, schema: ConfigDict, handler) -> JsonSchemaValue:
        schema = handler(schema)
        schema['additionalProperties'] = False  # This ensures no additional properties are allowed
        return schema

class YourModel(BaseModel):
    model_config = ConfigDict(
        extra='forbid',  # This forbids any extra fields not defined in the model
        json_schema_extra=StrictModelConfig.__get_pydantic_json_schema__
    )
    field1: str = Field(description="Description for field1")
    field2: Optional[int] = Field(description="Description for field2")
```

### Example usage:
```
print(YourModel.model_json_schema())
```

Explanation:
extra='forbid': This configuration in the ConfigDict ensures that any additional fields not explicitly defined in the model will cause validation to fail. While this doesn't directly set "strict": true, it enforces strict behavior by rejecting unknown fields.
json_schema_extra: Here, we're using a custom method StrictModelConfig.__get_pydantic_json_schema__ to modify the JSON schema. This method adds 'additionalProperties': False to the schema, which enforces strict adherence to the defined schema.
Custom __get_pydantic_json_schema__: This method can be overridden to add custom attributes to the JSON schema. However, for "strict": true specifically, there isn't a direct field in JSON Schema for this. Instead, we use 'additionalProperties': False to achieve similar behavior.

Note:
The term "strict": true isn't a standard JSON Schema keyword but is often used in contexts like OpenAPI to signify strict validation. In JSON Schema, the closest equivalent is setting 'additionalProperties': false which forbids any properties not explicitly defined in the schema.
Remember, Pydantic's JSON schema generation might evolve, so always refer to the latest documentation or source code for any new or different ways to enforce this kind of strictness.

This approach ensures that the JSON schema generated by Pydantic will be as strict as possible, adhering closely to the definition provided in the model, which should meet the requirements for LLM model response validation where strict adherence to a schema is necessary.

### Header props removed for LLM response_format

in order to use json-schema for LLM model response-type, the schema needs to include "strict": true. How can this be added to the Pydantic classes?
Answer
To incorporate "strict": true into the JSON Schema generated by Pydantic for use with LLM model responses, you can modify the schema generation process by customizing the Config class within your Pydantic models. Here's how you can do it:

Using Model Configuration
Pydantic provides a way to customize JSON schema generation through the Config class, but for strict mode, you might need to override the JSON schema generation behavior


### Removed for LLM model response_type
```
{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://example.com/resume-schema/",
}
```